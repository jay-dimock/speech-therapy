(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{107:function(e,t,n){e.exports=n(140)},112:function(e,t,n){},113:function(e,t,n){},140:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),o=n(12),l=n.n(o),s=(n(112),n(8)),i=(n(113),n(59)),c=function(){var e=i.get("session");return void 0===e?{}:JSON.parse(e)},u=r.a.createContext(c()),m=n(9),d=n(190),p=n(189),h=n(92),g=n(83),E=n.n(g),f=n(19),b=n(195),y=n(13),w=n.n(y),x=function(e){if(!e.response){if(e.isAxiosError){console.log(e.toJSON());var t="".concat(e.name,": ").concat(e.message);return e.description&&(t+="description: "+e.description),{error:t}}return console.log("err:",e),{error:"Unknown Error"}}if(e.response.data){if(e.response.data.errors){for(var n=e.response.data.errors,a={},r=0,o=Object.keys(n);r<o.length;r++){var l=o[r];console.log("".concat(l,": ").concat(n[l].message)),a[l]=n[l].message}return a}return console.log(e.response.data),{error:e.response.data}}return console.log("err:",e.response),{error:e.response}},v="http://localhost:8000/api/speech/",O=n(175),j=n(179),S=n(178),k=n(93),C=n(194),I=n(85),N=n.n(I),T={textAlign:"left",verticalAlign:"middle",display:"inline-block"},A={display:"inline-block",paddingTop:"10px",paddingBottom:"10px",verticalAlign:"middle"},R=function(e){var t=Object(a.useContext)(u),n=e.currentPage,o=[],l=r.a.useState(null),i=Object(s.a)(l,2),c=i[0],d=i[1];o.push({text:"Home",path:"/",disabled:"home"===n}),t.session.userId?(o.push({text:"Exercises",path:"/exercise/fresh",disabled:"exercise"===n}),o.push({text:"Reports",path:"/reports/onedate/today",disabled:"reports"===n}),"guest"===t.session.userId?o.push({text:"Register",path:"/register",disabled:!1}):o.push({text:"Log Out",path:"/logout",disabled:!1})):o.push({text:"Log In",path:"/login",disabled:"login"===n});var p=function(e,t){null!==c&&d(null),t||Object(m.d)(e)};return r.a.createElement(r.a.Fragment,null,r.a.createElement(O.a,{position:"static"},r.a.createElement("h1",{className:"bigScreen"},"Speech Therapy"),r.a.createElement("div",{className:"smallScreen left"},r.a.createElement("div",{style:T},r.a.createElement(S.a,{"aria-controls":"simple-menu","aria-haspopup":"true",onClick:function(e){d(e.currentTarget)}},r.a.createElement(N.a,{fontSize:"large"})),r.a.createElement(k.a,{id:"simple-menu",anchorEl:c,keepMounted:!0,open:Boolean(c),onClose:function(){d(null)}},o.map((function(e,t){return r.a.createElement(C.a,{key:t,onClick:function(){return p(e.path,e.disabled)},selected:e.disabled},e.text)})))),r.a.createElement("h2",null,"Speech Therapy"))),r.a.createElement(j.a,{className:"bigScreen",style:{marginBottom:"20px",padding:"0"}},o.map((function(e,n){return r.a.createElement(C.a,{key:n,color:"primary",style:A,onClick:function(){return p(e.path,e.disabled)},selected:e.disabled},("Log Out"===e.text||"Register"===e.text)&&r.a.createElement("span",null,t.session.firstName,": "),e.text)}))))},W=function(e){var t=Object(a.useContext)(u),n={padding:"0"};e.menuItem&&(n.padding="0 10px",n.fontWeight="bold");var o="link"+(t.session.theme||"dark");return r.a.createElement(m.a,{to:e.to||""},r.a.createElement(b.a,{className:o,component:"button",style:n},e.children))},P=function(e){var t="link"+(Object(a.useContext)(u).session.theme||"dark");return e.to?r.a.createElement(b.a,{className:t,href:e.to,onClick:e.onClick},e.children):r.a.createElement(b.a,{className:t,component:"button",onClick:e.onClick},e.children)},F=function(e){var t=Object(a.useState)(e.show||e.alwaysShow||!1),n=Object(s.a)(t,2),o=n[0],l=n[1];return r.a.createElement("div",null,o&&r.a.createElement("h2",{style:{marginBottom:"0"}},"Instructions"),!o&&r.a.createElement("div",{style:{marginTop:"20px"}}),!e.alwaysShow&&r.a.createElement(P,{style:{marginBottom:"0.5rem"},component:"button",onClick:function(){return l(!o)}},o?"Hide Instructions":"Instructions"),o&&r.a.createElement("div",{className:"left"},r.a.createElement("h3",null,"How it works"),r.a.createElement("ul",{className:"spaced"},r.a.createElement("li",null,'You will be shown a random category. For example: "Words that begin with B".'),r.a.createElement("li",null,"A 60 second timer will start. Speak as many words as you can that match the category."),r.a.createElement("li",null,"The words you speak will display on the screen, often with a delay of a second or two."),r.a.createElement("li",null,"Sometimes the speech recognition software will not hear you correctly. That's okay; you'll be able to edit your answers after the exercise is complete."),r.a.createElement("li",null,"When the timer reaches zero, you'll be taken to a results view where you can delete and/or edit incorrect words.")),r.a.createElement("h3",null,"Tips"),r.a.createElement("ul",{className:"spaced"},r.a.createElement("li",null,'If you can\'t think of any words in the category provided, click the "New Category" button.'),r.a.createElement("li",null,"If you've said as many words as you can, and don't want to wait for the timer to finish, click the \"Quit Early\" button."),r.a.createElement("li",null,'Sometimes an answer is made up of more than one word. For example, "North Carolina". The speech software will record this as two separate words. When you get to the results screen, you can combine them back into one word by dragging and dropping one word onto another.'),r.a.createElement("li",null,"To go back and edit the exercise later, you can access it from the ",r.a.createElement(W,{to:"/reports"},"Reports Page"),". ",r.a.createElement("i",null,"You can only edit today's exercises. Earlier dates cannot be modified."))),r.a.createElement("h3",null,"FAQ"),r.a.createElement("h4",null,"How does the software know if a word belongs in the category?"),r.a.createElement("p",null,"It doesn't. It simply listens to your voice and records the words. When you edit the exercise, YOU decide if the word really belongs to the category. If it does not, you should delete the word.")))},D=function(e){var t=Object(a.useContext)(u),n=t.session.theme||"dark",o="dark"===n?"light":"dark",l="link"+n,s=function(){t.setSession(Object(f.a)({},t.session,{theme:o})),Object(m.d)("/")};return r.a.createElement(r.a.Fragment,null,r.a.createElement(R,{currentPage:"home"}),r.a.createElement("div",{className:"container"},r.a.createElement("h2",null,"About"),r.a.createElement("p",{className:"left"},"This site provides a specific type of cognitive speech therapy exercise: thinking of and speaking words to match categories. This is done using the ",r.a.createElement(b.a,{className:l,href:"https://developer.mozilla.org/en-US/docs/Web/API/SpeechRecognition"},"Speech Recognition Web API"),' to record spoken words. Currently, the Speech Recognition API only works with the Chrome browser, and only if the user is NOT using iOS (iPhone, iPad). This may change in the future. See "Browser Support" on ',r.a.createElement(b.a,{className:l,href:"https://developer.mozilla.org/en-US/docs/Web/API/Web_Speech_API/Using_the_Web_Speech_API#Browser_support"},"this page")," for updates."),r.a.createElement("p",null,"Theme: ",r.a.createElement(b.a,{component:"button",onClick:function(){t.session.userId&&"guest"!==t.session.userId?w.a.put(v+"user/"+t.session.userId,{theme:o}).then((function(e){return s()})).catch((function(e){return x(e)})):s()},className:l},"Switch to ",o," theme")),!t.session.userId&&r.a.createElement(F,{alwaysShow:!0}),!t.session.userId&&r.a.createElement("p",null,"Ready to begin? ",r.a.createElement(W,{to:"/login"},"Log In")),t.session.userId&&r.a.createElement("p",null,"Get started: ",r.a.createElement(W,{to:"/exercise/instructions"},"Exercises / Instructions"))))},H=n(33),L=n(181),_=n(191),B=n(182),U=n(180),z=Object(U.a)((function(e){return{root:{"& > *":{margin:e.spacing(1)}},helperText:{marginTop:"0",padding:"0"}}})),M=function(e){var t,n=e.labelText,a=e.fieldName,o=e.value,l=e.error,s=e.changeHandler,i=null!==(t=e.type)&&void 0!==t?t:"text",c=z();return r.a.createElement(r.a.Fragment,null,r.a.createElement(L.a,{className:c.root},r.a.createElement(_.a,{type:i,label:n,value:o,onChange:function(e){return s(a,e.target.value)},variant:"filled",error:l&&!0}),l&&r.a.createElement(B.a,{className:c.helperText,error:!0},l)),r.a.createElement("br",null))},Y=function(){var e=Object(a.useContext)(u),t=Object(a.useState)({firstName:"",lastName:"",email:"",password:"",passwordConfirm:""}),n=Object(s.a)(t,2),o=n[0],l=n[1],i=Object(a.useState)({}),c=Object(s.a)(i,2),d=c[0],p=c[1],h=function(e,t){l(Object(f.a)({},o,Object(H.a)({},e,t)))},g=function(t){t.preventDefault(),p({}),w.a.post(v+"user/register",o).then((function(t){e.setSession(Object(f.a)({},e.session,{userId:t.data._id,firstName:o.firstName,lastName:o.lastName})),Object(m.d)("/")})).catch((function(e){p(x(e))}))};return r.a.createElement("form",{onSubmit:g},r.a.createElement(M,{labelText:"First Name",fieldName:"firstName",value:o.firstName,error:d.firstName,changeHandler:h}),r.a.createElement(M,{labelText:"Last Name",fieldName:"lastName",value:o.lastName,error:d.lastName,changeHandler:h}),r.a.createElement(M,{labelText:"Email",fieldName:"email",type:"email",value:o.email,error:d.email,changeHandler:h}),r.a.createElement(M,{labelText:"Password",fieldName:"password",type:"password",value:o.password,error:d.password,changeHandler:h}),r.a.createElement(M,{labelText:"Confirm Password",fieldName:"passwordConfirm",type:"password",value:o.passwordConfirm,error:d.passwordConfirm,changeHandler:h}),r.a.createElement(S.a,{style:{margin:"10px"},type:"button",variant:"contained",color:"primary",onClick:g},"Register"))},G=function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement(R,{currentPage:"register"}),r.a.createElement("h2",null,"Register New User"),r.a.createElement(Y,null),r.a.createElement("div",{style:{marginTop:"10px"}},"Already a registered? ",r.a.createElement(W,{to:"/login"},"Log In")))},J={padding:"10px 15px",marginTop:"10px",textAlign:"center",fontSize:"1rem"},V=function(){var e=Object(a.useContext)(u),t=Object(a.useState)({email:"",password:""}),n=Object(s.a)(t,2),o=n[0],l=n[1],i=Object(a.useState)({}),c=Object(s.a)(i,2),d=c[0],p=c[1],h=function(e,t){l(Object(f.a)({},o,Object(H.a)({},e,t)))},g=function(t){t.preventDefault(),w.a.post(v+"user/login",o).then((function(t){e.setSession(Object(f.a)({},e.session,{userId:t.data._id,firstName:t.data.firstName,lastName:t.data.lastName,theme:t.data.theme})),Object(m.d)("/")})).catch((function(e){p(x(e))}))};return r.a.createElement(r.a.Fragment,null,r.a.createElement("form",{onSubmit:g},r.a.createElement(M,{labelText:"Email",fieldName:"email",value:o.email,error:d.email,changeHandler:h}),r.a.createElement(M,{labelText:"Password",fieldName:"password",type:"password",value:o.password,error:d.password,changeHandler:h}),r.a.createElement(S.a,{style:{margin:"10px"},type:"button",variant:"contained",color:"primary",onClick:g},"Log In")),r.a.createElement(P,{onClick:function(){e.setSession(Object(f.a)({},e.session,{userId:"guest",firstName:"Guest"})),Object(m.d)("/")}},"Log in as Guest"),d.error&&r.a.createElement(B.a,{style:J,error:!0},d.error))},Q=function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement(R,{currentPage:"login"}),r.a.createElement("h2",null,"Log In"),r.a.createElement(V,null),r.a.createElement("div",{style:{marginTop:"10px"}},"New user? ",r.a.createElement(W,{to:"/register"},"Register")))},K=function(){var e=Object(a.useContext)(u);return Object(a.useEffect)((function(){e.setSession({theme:e.session.theme})}),[]),r.a.createElement(m.b,{noThrow:!0,to:"/login"})},Z=function(e){var t=Object(a.useContext)(u);if(!t.session.userId)return r.a.createElement(m.b,{noThrow:!0,to:"/login"});var n="fresh"===e.param,o="restart"===e.param,l="notallowed"===e.param,s=(o?"Start New Category":l&&"Try Again")||"Start";return r.a.createElement(r.a.Fragment,null,r.a.createElement(R,{currentPage:"exercise"}),r.a.createElement("div",{className:"container"},r.a.createElement("h2",null,"Exercises"),n&&r.a.createElement("p",null,"Ready to start?"),o&&r.a.createElement("p",null,"You skipped this category: ",t.session.lastCategory),l&&r.a.createElement("p",null,"Your browser has blocked microphone use for this site.",r.a.createElement("br",null),"In Chrome, remove the block by going to ",r.a.createElement("b",null,"Settings > Site Settings > Microphone"),"."),r.a.createElement(S.a,{variant:"contained",color:"primary",onClick:function(){return Object(m.d)("/startexercise")}},s),"guest"===t.session.userId&&!l&&r.a.createElement("p",{style:{maxWidth:"500px",margin:"10px auto"}},"As a Guest User, you can do exercises to see how it works -- but when the exercise is finished, you'll be taken back to this page without the chance to view or edit your results. For a better experience, please ",r.a.createElement(W,{to:"/login"},"Log In"),". Your personal information will not be shared with anyone."),r.a.createElement(F,{show:"instructions"===e.param})))};window.SpeechRecognition=window.SpeechRecognition||window.webkitSpeechRecognition;for(var q=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.onEnd,n=void 0===t?function(){}:t,r=e.onResult,o=void 0===r?function(){}:r,l=e.onError,i=void 0===l?function(){}:l,c=Object(a.useRef)(null),u=Object(a.useState)(!1),m=Object(s.a)(u,2),d=m[0],p=m[1],h=!!window.SpeechRecognition,g=function(e){var t=Array.from(e.results).map((function(e){return e[0]})).map((function(e){return e.transcript})).join("");o(t)},E=function(e){"not-allowed"===e.error&&(c.current=new window.SpeechRecognition),i(e)},f=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(!d){var t=e.lang,n=void 0===t?"":t,a=e.interimResults,r=void 0===a||a,o=e.continuous,l=void 0!==o&&o,s=e.maxAlternatives,i=void 0===s?1:s,u=e.grammars;p(!0),c.current.lang=n,c.current.interimResults=r,c.current.onresult=g,c.current.onerror=E,c.current.continuous=l,c.current.maxAlternatives=i,u&&(c.current.grammars=u),c.current.onend=function(){return c.current.start()},c.current.start()}},b=function(){d&&(c.current.onresult=function(){},c.current.onend=function(){},c.current.onerror=function(){},p(!1),c.current.stop(),n())};return Object(a.useEffect)((function(){h&&(c.current=new window.SpeechRecognition)}),[]),{listen:f,listening:d,stop:b,supported:h}},X=["Adjectives","Animals","Aquatic animals","Body Parts","Buildings","Businesses","Characters","Cities","Classroom Objects","Clothing","Colors","Condiments","Consonants","Countries","Cuisine","Desserts","Drinks","Emotions","Even Numbers","Exercises","Flowers","Food","Fruits","Furniture","Gems","Habits","Halloween","Hanukkah","Holidays","Ingredients","Insects","Internal Organs","Islands","Jobs","Kitchen Utensils","Landmarks","Languages","Liquids","Measuring Units","Music Types","Musical Instruments","Mythical Creatures","New Year\u2019s","Nouns","Odd Numbers","Office Supplies","Places","Plants","Prepositions","Religions","Rhyming Words","School Subjects","Seasonings","Shoes","Sizes","Sounds","Sports","States","Summer","Thanksgiving","Tools","Traditions","Transportation","Valentine\u2019s Day","Vegetables","Verbs","Weather","Weddings","Winter Holidays","Swear Words"],$="ABCDEFGHIJKLMNOPQRSTUVWXYZ".split(""),ee=["Characters","Cities","Countries","Holidays","Islands","Landmarks","Places","Religions","States","Winter Holidays"],te=0;te<$.length;te++)X.push("Words that begin with "+$[te]);var ne=n(86),ae=n(87),re=n(97),oe=n(88),le=n(98),se=function(e){function t(){return Object(ne.a)(this,t),Object(re.a)(this,Object(oe.a)(t).apply(this,arguments))}return Object(le.a)(t,e),Object(ae.a)(t,[{key:"render",value:function(){return r.a.createElement(j.a,{style:{maxWidth:"100px",margin:"0 auto 15px auto"}},r.a.createElement("h1",null,this.props.minutes||"0",":",this.props.seconds<10&&"0",this.props.seconds))}}]),t}(r.a.Component),ie=n(96),ce={display:"inline-block",border:"1px solid lightgray",borderRadius:"6px",padding:"4px 8px",margin:"6px 4px"},ue=function(e){var t=e.text.split(" ").filter((function(e){return e})),n=Object(ie.a)(new Set(t));return r.a.createElement("div",{className:"container",style:{marginTop:"15px",overflow:"wrap"}},r.a.createElement("h4",null,"Words: ",n.length),n.map((function(e,t){return r.a.createElement("span",{style:ce,key:t},e)})))},me=function(e){var t=Object(a.useContext)(u);if(!t.session.userId)return r.a.createElement(m.b,{noThrow:!0,to:"/login"});var n=!0,o=Object(a.useState)(0),l=Object(s.a)(o,2),i=l[0],c=l[1],d=Object(a.useState)(""),p=Object(s.a)(d,2),h=p[0],g=p[1],E=Object(a.useState)(""),y=Object(s.a)(E,2),O=y[0],j=y[1],k=q({onResult:function(e){console.log("on result triggered");var t=n?e.toLowerCase():e;g((function(e){return e+" "+t}))},onEnd:function(){console.log("on end triggered"),A()},onError:function(e){console.log(e),"not-allowed"===e.error&&(console.log("Detected microphone block"),Object(m.d)("/exercise/notallowed"))}}),C=k.listen,I=k.listening,N=k.stop;if(!k.supported)return r.a.createElement(r.a.Fragment,null,r.a.createElement(R,{currentPage:"exercise"}),r.a.createElement("h2",null,"Exercises"),r.a.createElement("div",null,"This browser does not support the Web Speech API.",r.a.createElement("br",null),"Try opening this site in Google Chrome (Desktop or Android, but NOT iOS).",r.a.createElement("br",null),r.a.createElement(b.a,{href:"https://developer.mozilla.org/en-US/docs/Web/API/Web_Speech_API/Using_the_Web_Speech_API#Browser_support"},"Learn more about browser compatibility")));Object(a.useEffect)((function(){T(),C({interimResults:!1})}),[]),Object(a.useEffect)((function(){var e=setTimeout((function(){i>0?I&&c(i-1):I&&N()}),1e3);return function(){clearTimeout(e)}}),[i]);var T=function e(){var a=X[Math.floor(Math.random()*X.length)];if(a===t.session.lastCategory)return console.log("Random new category matches last category. Trying again..."),e();(function(e){return ee.includes(e)})(a)&&(n=!1),j(a),c(60),t.setSession(Object(f.a)({},t.session,{lastCategory:a}))},A=function(){"guest"!==t.session.userId?0!==h.length?w.a.post(v+"exercise",{userId:t.session.userId,category:O,transcript:h}).then((function(e){console.log(e),Object(m.d)("/editexercise/"+e.data._id)})).catch((function(e){return x(e)})):Object(m.d)("/exercise/restart"):Object(m.d)("/exercise/fresh")};return r.a.createElement(r.a.Fragment,null,r.a.createElement(R,{currentPage:"exercise"}),r.a.createElement("div",{className:"container"},r.a.createElement("h2",null,"Exercises"),O&&r.a.createElement(r.a.Fragment,null,r.a.createElement("h4",null,"The category is..."),r.a.createElement("h3",null,O),r.a.createElement(se,{seconds:i}),r.a.createElement(S.a,{variant:"contained",color:"secondary",onClick:N},0===h.length?"New Category":"Quit Early"),r.a.createElement(ue,{text:h}))))},de=n(54),pe=n.n(de),he=n(183),ge=n(94),Ee=n(95),fe=n(192),be=n(193),ye=n(89),we=n.n(ye),xe=n(99),ve=n(90),Oe=n.n(ve),je={fontSize:"medium",verticalAlign:"middle"},Se=function(e){var t;return r.a.createElement(Oe.a,{style:je,color:"secondary",onClick:null!==(t=e.action)&&void 0!==t&&t})},ke=function(e){var t=e.exerciseId,n=e.index,o=e.deleteWord,l=e.isTouchDevice,i=Object(a.useState)(e.word),c=Object(s.a)(i,2),u=c[0],m=c[1],d=Object(a.useRef)(null),p={verticalAlign:"middle",paddingLeft:l?"10px":"5px"},h=Object(fe.a)({accept:"WordDraggable",hover:function(e){},drop:function(e){if(d.current){var t=e.index,a=n;t!==a&&(y(t,a,e.id,u),e.index=a)}}}),g=Object(s.a)(h,2)[1],E=Object(be.a)({item:{type:"WordDraggable",id:u,index:n},collect:function(e){return{isDragging:e.isDragging()}}}),f=Object(s.a)(E,2),b=f[0].isDragging;(0,f[1])(g(d));var y=function(e,t,n,a){O(e>t?a+" "+n:n+" "+a,e)},O=function(e){var a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:-1;w.a.put(v+"exercise/"+t+"/updateWord",{index:n,word:e}).then((function(t){m(e),0===e.length?o(n):a>=0&&o(a)})).catch((function(e){x(e)}))},j={display:"inline-block",border:"1px solid lightgray",borderRadius:"6px",padding:l?"5px 10px":"4px 8px",margin:l?"10px 10px":"7px 8px",opacity:b?.25:1},S={display:"inline-block",marginLeft:l?"10px":"5px"};return r.a.createElement(xe.a,{style:j,ref:d},r.a.createElement(Se,{action:function(){return o(n)}}),r.a.createElement(we.a,{style:S,html:u,onKeyPress:function(e){var t;13===((t=e).which||t.keyCode)&&t.preventDefault()},onChange:function(e){return O(e.target.value.trim())}}),r.a.createElement(pe.a,{style:p,color:"primary",fontSize:l?"large":"small"}))},Ce="ontouchstart"in window,Ie=Ce?Ee.a:ge.a,Ne=function(e){var t=e.words,n=e.setWords,o=Object(a.useState)(!1),l=Object(s.a)(o,2),i=l[0],c=l[1],u=function(t){i||(c(!0),w.a.put(v+"exercise/"+e.exerciseId+"/deleteWord",{index:t}).then((function(e){e.data.words.length>0?n(e.data.words):d()})).catch((function(e){x(e)})).finally((function(){return c(!1)})))},d=function(){w.a.delete(v+"exercise/"+e.exerciseId).then((function(e){console.log("deleted exercise. navigating to new exercise"),Object(m.d)("/exercise")})).catch((function(e){x(e)}))};return r.a.createElement("div",{style:{marginTop:"15px"}},r.a.createElement(he.a,{backend:Ie},t.map((function(t,n){return r.a.createElement(ke,{key:t+n,index:n,exerciseId:e.exerciseId,word:t,deleteWord:u,isTouchDevice:Ce})}))))},Te={verticalAlign:"middle",fontSize:"medium"},Ae=function(e){if(!Object(a.useContext)(u).session.userId)return r.a.createElement(m.b,{noThrow:!0,to:"/login"});var t=Object(a.useState)(""),n=Object(s.a)(t,2),o=n[0],l=n[1],i=Object(a.useState)([]),c=Object(s.a)(i,2),d=c[0],p=c[1],h=Object(a.useState)(!1),g=Object(s.a)(h,2),E=g[0],f=g[1],y=Object(a.useState)(e.show||e.alwaysShow||!1),O=Object(s.a)(y,2),j=O[0],k=O[1];return Object(a.useEffect)((function(){w.a.get(v+"exercise/"+e.id).then((function(e){l(e.data.category),p(e.data.words),f(!0)})).catch((function(e){console.log(x(e))}))}),[]),r.a.createElement(r.a.Fragment,null,r.a.createElement(R,{currentPage:"editexercise"}),r.a.createElement("div",{className:"container"},r.a.createElement("h2",null,"Results"),r.a.createElement("h3",null,"Category: ",o),r.a.createElement(S.a,{variant:"contained",color:"primary",onClick:function(){return Object(m.d)("/startexercise")}},"Start New Exercise"),r.a.createElement("h4",null,"You recorded ",r.a.createElement("b",null,d.length," words!")),r.a.createElement(b.a,{style:{marginBottom:"0.5rem"},component:"button",onClick:function(){return k(!j)}},j?"Hide Instructions":"Editing Instructions"),j&&r.a.createElement(r.a.Fragment,null,r.a.createElement("p",null,"To edit a word, by typing over it (if you back-space over it, the word will be deleted)."),r.a.createElement("p",null,"To combine 2 words, drag one word on top of the other using the drag symbol ",r.a.createElement(pe.a,{style:Te,color:"primary"}),"."),r.a.createElement("p",null,"To delete a word, by click the delete symbol: ",r.a.createElement(Se,{action:function(){return!1}}),", or back-space over the entire word.")),E&&r.a.createElement(Ne,{words:d,setWords:p,exerciseId:e.id})))},Re=n(184),We=n(185),Pe=n(186),Fe=n(187),De=n(188),He=function(e){var t=Object(a.useContext)(u),n=Object(a.useState)([]),o=Object(s.a)(n,2),l=o[0],i=o[1],c=Object(a.useState)(!1),m=Object(s.a)(c,2),d=m[0],p=m[1];return Object(a.useEffect)((function(){var e=encodeURIComponent(Intl.DateTimeFormat().resolvedOptions().timeZone);w.a.get(v+"reports/alldates/"+e+"/"+t.session.userId).then((function(e){i(e.data),p(!0)})).catch((function(e){x(e)}))}),[]),r.a.createElement(r.a.Fragment,null,d&&0===l.length&&r.a.createElement(r.a.Fragment,null,r.a.createElement("h3",null,"No Exercises Found"),r.a.createElement("p",null,"No exercises were found for this user in the database.",r.a.createElement("br",null),"Make sure you are logged in and have completed at least one exercise.")),d&&l.length>0&&r.a.createElement(r.a.Fragment,null,r.a.createElement("h3",null,"Summary: Activity by Date"),r.a.createElement(Re.a,{style:{maxWidth:400,margin:"0 auto"},size:"small"},r.a.createElement(We.a,null,r.a.createElement(Pe.a,null,r.a.createElement(Fe.a,null,"Date"),r.a.createElement(Fe.a,null,"Exercises"),r.a.createElement(Fe.a,null,"Action"))),r.a.createElement(De.a,null,l.map((function(e,t){return r.a.createElement(Pe.a,{key:t},r.a.createElement(Fe.a,null,e._id),r.a.createElement(Fe.a,null,e.sum),r.a.createElement(Fe.a,null,r.a.createElement(W,{to:"/reports/onedate/"+e._id},"View Exercises")))}))))))},Le=function(e){var t=Object(a.useContext)(u),n=Object(a.useState)([]),o=Object(s.a)(n,2),l=o[0],i=o[1],c=function(){var e=new Date,t=e.getTimezoneOffset(),n=e.setMinutes(e.getMinutes()-t);return new Date(n).toISOString().substring(0,10)}(),d="today"===e.date?c:e.date,p=d===c,h=new Date(d.replace(/-/g,"/")).toDateString();return Object(a.useEffect)((function(){var e=encodeURIComponent(Intl.DateTimeFormat().resolvedOptions().timeZone);w.a.get(v+"reports/onedate/".concat(d,"/").concat(e,"/").concat(t.session.userId)).then((function(e){0===e.data.length&&(console.log("No exercises found for "+d+". Redirecting to all dates."),Object(m.d)("/reports")),i(e.data)})).catch((function(e){return x(e)}))}),[]),r.a.createElement(r.a.Fragment,null,r.a.createElement("h3",null,p?"Today's Activity":"Activity for "+h),!p&&r.a.createElement("p",null,"Editing is only possible for exercises performed on today's date."),r.a.createElement(W,{to:"/reports"},"View activity for another date"),r.a.createElement(Re.a,{style:{maxWidth:600,margin:"0 auto"},size:"small"},r.a.createElement(We.a,null,r.a.createElement(Pe.a,null,r.a.createElement(Fe.a,null,"Category"),r.a.createElement(Fe.a,null,"Words"),p&&r.a.createElement(Fe.a,null,"Actions"))),r.a.createElement(De.a,null,l.map((function(e,t){return r.a.createElement(Pe.a,{key:t,style:{verticalAlign:"top"}},r.a.createElement(Fe.a,null,e.category,r.a.createElement("br",null)),r.a.createElement(Fe.a,null,r.a.createElement("u",null,e.words.length," words"),": ",r.a.createElement("span",null,e.words.join(", "))),p&&r.a.createElement(Fe.a,null,r.a.createElement(W,{to:"/editexercise/"+e._id},"Edit")))})))))},_e=function(e){var t=e.report||"alldates",n=Object(a.useContext)(u);return n.session.userId?"guest"===n.session.userId?r.a.createElement(r.a.Fragment,null,r.a.createElement(R,{currentPage:"reports"}),r.a.createElement("h2",null,"Reports"),r.a.createElement("p",null,"As a Guest User, your exercises are not saved."),r.a.createElement("p",null,"To save your results and view them over time, ",r.a.createElement(W,{to:"/login"},"Log In")," or ",r.a.createElement(W,{to:"/register"},"Register"),".")):r.a.createElement(r.a.Fragment,null,r.a.createElement(R,{currentPage:"reports"}),r.a.createElement("h2",null,"Reports"),r.a.createElement("div",{className:"container"},"alldates"===t&&r.a.createElement(He,null),"onedate"===t&&r.a.createElement(Le,{date:e.param||"today"}))):r.a.createElement(m.b,{noThrow:!0,to:"/login"})};var Be=function(){var e=Object(a.useState)(c()),t=Object(s.a)(e,2),n=t[0],o=t[1];Object(a.useEffect)((function(){!function(e){i.remove("session"),i.set("session",e,{expires:1})}(n)}),[n]);var l,g=((l=n.theme)||(l="dark"),Object(h.a)({palette:{type:l,primary:E.a}}));return r.a.createElement("div",{className:"App"},r.a.createElement(u.Provider,{value:{session:n,setSession:o}},r.a.createElement(p.a,{theme:g},r.a.createElement(d.a,null),r.a.createElement(m.c,null,r.a.createElement(D,{default:!0,path:"/"}),r.a.createElement(G,{path:"register"}),r.a.createElement(Q,{path:"login"}),r.a.createElement(K,{path:"logout"}),r.a.createElement(Z,{path:"exercise/:param"}),r.a.createElement(me,{path:"startexercise"}),r.a.createElement(Ae,{path:"editexercise/:id"}),r.a.createElement(_e,{path:"reports/:report/:param"}),r.a.createElement(_e,{path:"reports"})))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));l.a.render(r.a.createElement(Be,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[107,1,2]]]);
//# sourceMappingURL=main.9e024dee.chunk.js.map